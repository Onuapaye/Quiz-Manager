package fr.fortress.quizmanager.services;

import java.util.List;

import javax.inject.Inject;

import org.springframework.stereotype.Component;

import fr.fortress.quizmanager.daos.AnswerDAO;
import fr.fortress.quizmanager.model.Answer;

@Component
public class AnswerService {

	@Inject
	AnswerDAO answerDAO;

	public boolean isUserAuthenticated(String answerTitleName, int answerId) {

		Answer answer = new Answer();
		answer.setAnswerTitleName(answerTitleName);
		answer.setAnswerId(answerId);

		List<Answer> answerList = answerDAO.searchRecord(answer);

		int count = answerList.size();
		boolean result = false;

		for (int i = 0; i < count; i++) {

			if (answer.getAnswerTitleName().equals(answerList.get(i).getAnswerTitleName())
					&& answer.getAnswerId() == answerList.get(i).getAnswerId()) {
				result = true;
			} else {
				result = false;
			}
		}
		return result;

	}

	public boolean createAnswer(Answer answer) {

		if (answer.getAnswerTitleName().equals(null) || answer.getAnswerTitleName().equals("")) {

			return false;
		} else {
			answerDAO.createAnswer(answer);
			return true;
		}

	}

	public boolean updateAnswer(Answer answer) {

		if (answer.getAnswerTitleName().equals("")) {

			return false;
		} else {
			answerDAO.updateAnswer(answer);
			return true;
		}

	}

	public List<Answer> getAllAnswers(Answer answer) {

		List<Answer> answerList = answerDAO.getListOfAllAnswers(answer);
		return answerList;
	}

}
